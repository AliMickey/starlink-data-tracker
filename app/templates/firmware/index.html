{% extends 'builders/base.html' %}

{% block title %}Firmware{% endblock %}
{% set dataType = "firmware" %}

{% block scriptsHead %}
{% endblock %}

{% block content %}
  <div class="col-11 text-center"> 
    <p class="fs-1 fw-bold">Starlink Firmware</p>
    <div class="row">
      <div class="col mb-0 mb-md-5">
        <p class="fs-4"><a class="text-decoration-none" href="{{ url_for('firmware.list', listType='dishy') }}">Dishy<img src="{{ url_for('static', filename='img/firmware/thumbnails/dishy.png') }}" width="50px"></a></p>
        <table class="table table-striped table-bordered" id="dataTable">
          <thead>
            <tr>
              <th>Added (UTC)</th>
              <th>Version</th>
              <th>Discussion</th>
            </tr>
          </thead>
          <tbody>
            {% for id, details in dishyListDict.items() %}
            <tr>
              <td>{{ details['dateAdded'] }}</td>
              <td>
                <span class="font-monospace user-select-all">{{ details['version'] }}</span>
              </td>
              <td>
                {% if details['reddit'] %}
                  <a href="{{ details['reddit'] }}" target="_blank"><img src="{{ url_for('static', filename='img/logos/reddit.png') }}" width="25px"></a>
                {% else %}
                  <span>N/A</span>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <p class="fs-4"><a class="text-decoration-none" href="{{ url_for('firmware.list', listType='router') }}">Router<img src="{{ url_for('static', filename='img/firmware/thumbnails/router.png') }}" width="50px"></a></p>
        <table class="table table-striped table-bordered" id="dataTable">
          <thead>
            <tr>
              <th>Added (UTC)</th>
              <th>Version</th>
              <th>Discussion</th>
            </tr>
          </thead>
          <tbody>
            {% for id, details in routerListDict.items() %}
            <tr>
              <td>{{ details['dateAdded'] }}</td>
              <td>
                <span class="font-monospace user-select-all">{{ details['version'] }}</span>
              </td>
              <td>
                {% if details['reddit'] %}
                  <a href="{{ details['reddit'] }}" target="_blank"><img src="{{ url_for('static', filename='img/logos/reddit.png') }}" width="25px"></a>
                {% else %}
                  <span>N/A</span>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <div class="col">
        <p class="fs-4"><a class="text-decoration-none" href="{{ url_for('firmware.list', listType='app') }}">Mobile App<img src="{{ url_for('static', filename='img/firmware/thumbnails/app.png') }}" width="44px"></a></p>
        <table class="table table-striped table-bordered" id="dataTable">
          <thead>
            <tr>
              <th>Added (UTC)</th>
              <th>Version</th>
              <th>Discussion</th>
            </tr>
          </thead>
          <tbody>
            {% for id, details in appListDict.items() %}
            <tr>
              <td>{{ details['dateAdded'] }}</td>
              <td>
                <span class="font-monospace user-select-all">{{ details['version'] }}</span>
              </td>
              <td>
                {% if details['reddit'] %}
                  <a href="{{ details['reddit'] }}" target="_blank"><img src="{{ url_for('static', filename='img/logos/reddit.png') }}" width="25px"></a>
                {% else %}
                  <span>N/A</span>
                {% endif %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endblock %}

{% block scriptsBody %}
  <script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl)
    })
  </script>
{% endblock %}
